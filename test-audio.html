<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –∑–≤—É–∫–æ–≤–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 15px 25px;
            margin: 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background: #45a049;
        }
        button:disabled {
            background: #cccccc;
            cursor: not-allowed;
        }
        .status {
            margin: 20px 0;
            padding: 15px;
            border-radius: 5px;
            font-weight: bold;
        }
        .info {
            background: #e3f2fd;
            color: #1976d2;
        }
        .success {
            background: #e8f5e8;
            color: #2e7d32;
        }
        .error {
            background: #ffebee;
            color: #c62828;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üîä –¢–µ—Å—Ç –∑–≤—É–∫–æ–≤–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏</h1>
        
        <div class="status info">
            –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ, —á—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∑–≤—É–∫–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.
            <br><strong>–í–∞–∂–Ω–æ:</strong> –†–∞–∑—Ä–µ—à–∏—Ç–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –Ω–∞–∂–∞—Ç–∏–∏.
        </div>
        
        <div>
            <h3>–¢–µ—Å—Ç–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã:</h3>
            <button onclick="testSound('close')">üîä –û—á–µ–Ω—å –±–ª–∏–∑–∫–æ (20–º)</button>
            <button onclick="testSound('hot')">üî• –û—á–µ–Ω—å –≥–æ—Ä—è—á–æ (50–º)</button>
            <button onclick="testSound('warm')">üå°Ô∏è –¢–µ–ø–ª–æ (200–º)</button>
            <button onclick="testSound('cool')">‚ùÑÔ∏è –ü—Ä–æ—Ö–ª–∞–¥–Ω–æ (500–º)</button>
            <button onclick="testSound('cold')">üßä –•–æ–ª–æ–¥–Ω–æ (1000–º)</button>
            <button onclick="testSound('target')">üéØ –¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞!</button>
        </div>
        
        <div>
            <h3>–¢–µ—Å—Ç—ã –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è:</h3>
            <button onclick="testDirection('approaching')">‚ÜóÔ∏è –ü—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ</button>
            <button onclick="testDirection('moving_away')">‚ÜòÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ</button>
            <button onclick="testDirection('neutral')">‚û°Ô∏è –ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ</button>
        </div>
        
        <div>
            <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤—É–∫–æ–º:</h3>
            <button id="toggleBtn" onclick="toggleAudio()">üîä –í–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫</button>
            <button onclick="testPattern()">üéµ –¢–µ—Å—Ç–æ–≤—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω</button>
        </div>
        
        <div id="status" class="status"></div>
        
        <div>
            <h3>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–≤—É–∫–∞—Ö:</h3>
            <ul>
                <li><strong>–û—á–µ–Ω—å –±–ª–∏–∑–∫–æ:</strong> –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π —Ç–æ–Ω (1000+ –ì—Ü), –æ—á–µ–Ω—å —á–∞—Å—Ç—ã–µ —Å–∏–≥–Ω–∞–ª—ã</li>
                <li><strong>–û—á–µ–Ω—å –≥–æ—Ä—è—á–æ:</strong> –í—ã—Å–æ–∫–∏–π —Ç–æ–Ω (800+ –ì—Ü), —á–∞—Å—Ç—ã–µ —Å–∏–≥–Ω–∞–ª—ã</li>
                <li><strong>–¢–µ–ø–ª–æ:</strong> –°—Ä–µ–¥–Ω–µ-–≤—ã—Å–æ–∫–∏–π —Ç–æ–Ω (600+ –ì—Ü), —Å—Ä–µ–¥–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã</li>
                <li><strong>–ü—Ä–æ—Ö–ª–∞–¥–Ω–æ:</strong> –°—Ä–µ–¥–Ω–∏–π —Ç–æ–Ω (400+ –ì—Ü), —Ä–µ–¥–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã</li>
                <li><strong>–•–æ–ª–æ–¥–Ω–æ:</strong> –ù–∏–∑–∫–∏–π —Ç–æ–Ω (200+ –ì—Ü), –æ—á–µ–Ω—å —Ä–µ–¥–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã</li>
                <li><strong>–¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞:</strong> –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤—ã—Å–æ–∫–∏–π —Ç–æ–Ω (1200 –ì—Ü), —Å–ª–æ–∂–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω</li>
            </ul>
            
            <h4>–ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:</h4>
            <ul>
                <li><strong>–ß–∞—Å—Ç–æ—Ç–∞:</strong> +50 –ì—Ü –∑–∞ –∫–∞–∂–¥—ã–µ 10 –º–µ—Ç—Ä–æ–≤ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è</li>
                <li><strong>–ò–Ω—Ç–µ—Ä–≤–∞–ª:</strong> –£–º–µ–Ω—å—à–∞–µ—Ç—Å—è –Ω–∞ 200–º—Å –∑–∞ –∫–∞–∂–¥—ã–µ 10 –º–µ—Ç—Ä–æ–≤ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è</li>
                <li><strong>–ú–∏–Ω–∏–º—É–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞:</strong> 200–º—Å –ø—Ä–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏, 300–º—Å –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ</li>
            </ul>
            
            <h4>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è:</h4>
            <ul>
                <li><strong>‚ÜóÔ∏è –ü—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ:</strong> –ú–∞–∂–æ—Ä–Ω—ã–π –∞–∫–∫–æ—Ä–¥ (600-900 –ì—Ü), –≤–æ—Å—Ö–æ–¥—è—â–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω, –≥—Ä–æ–º—á–µ</li>
                <li><strong>‚ÜòÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ:</strong> –ú–∏–Ω–æ—Ä–Ω—ã–π –∞–∫–∫–æ—Ä–¥ (300-400 –ì—Ü), –Ω–∏—Å—Ö–æ–¥—è—â–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω, —Ç–∏—à–µ, —Å –¥–∏—Å—Å–æ–Ω–∞–Ω—Å–æ–º</li>
                <li><strong>‚û°Ô∏è –ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ:</strong> –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ç–æ–Ω –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π</li>
            </ul>
        </div>
    </div>

    <script type="module">
        import { playSoundPattern, playDirectionSound, toggleAudio, isAudioOn } from './src/modules/audioModule.js';
        
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        window.testSound = function(type) {
            const patterns = {
                'close': [100],      // –û—á–µ–Ω—å –±–ª–∏–∑–∫–æ
                'hot': [50],         // –û—á–µ–Ω—å –≥–æ—Ä—è—á–æ  
                'warm': [100],       // –¢–µ–ø–ª–æ
                'cool': [150],       // –ü—Ä–æ—Ö–ª–∞–¥–Ω–æ
                'cold': [200],       // –•–æ–ª–æ–¥–Ω–æ
                'target': [200, 100, 200, 100, 200] // –¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞
            };
            
            const names = {
                'close': '–û—á–µ–Ω—å –±–ª–∏–∑–∫–æ',
                'hot': '–û—á–µ–Ω—å –≥–æ—Ä—è—á–æ',
                'warm': '–¢–µ–ø–ª–æ', 
                'cool': '–ü—Ä–æ—Ö–ª–∞–¥–Ω–æ',
                'cold': '–•–æ–ª–æ–¥–Ω–æ',
                'target': '–¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞'
            };
            
            playSoundPattern(patterns[type], 'neutral', null);
            showStatus(`üîä –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥—ë–Ω —Å–∏–≥–Ω–∞–ª: ${names[type]}`, 'success');
        };
        
        window.toggleAudio = function() {
            const isOn = toggleAudio();
            const btn = document.getElementById('toggleBtn');
            btn.textContent = isOn ? 'üîá –û—Ç–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫' : 'üîä –í–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫';
            showStatus(`üîä –ó–≤—É–∫ ${isOn ? '–≤–∫–ª—é—á—ë–Ω' : '–æ—Ç–∫–ª—é—á—ë–Ω'}`, isOn ? 'success' : 'error');
        };
        
        window.testDirection = function(direction) {
            const patterns = {
                'approaching': '–ü—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ',
                'moving_away': '–£–¥–∞–ª–µ–Ω–∏–µ', 
                'neutral': '–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ'
            };
            
            // –¢–µ—Å—Ç–∏—Ä—É–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –∑–≤—É–∫ —Å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º
            playSoundPattern([150], direction, 200); // –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º 200–º
            
            // –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∑–≤—É–∫ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            setTimeout(() => {
                playDirectionSound(direction);
            }, 300);
            
            showStatus(`üîä –¢–µ—Å—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è: ${patterns[direction]}`, 'info');
        };
        
        window.testPattern = function() {
            // –¢–µ—Å—Ç–æ–≤—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω: –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–∑–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ —Å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏ –∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è–º–∏
            const testSequence = [
                { pattern: [200], direction: 'moving_away', distance: 1000, name: '–£–¥–∞–ª–µ–Ω–∏–µ (1000–º)' },
                { pattern: [150], direction: 'neutral', distance: 500, name: '–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ (500–º)' },
                { pattern: [100], direction: 'approaching', distance: 200, name: '–ü—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ (200–º)' },
                { pattern: [80], direction: 'approaching', distance: 100, name: '–ë–ª–∏–∑–∫–æ (100–º)' },
                { pattern: [50], direction: 'approaching', distance: 50, name: '–û—á–µ–Ω—å –±–ª–∏–∑–∫–æ (50–º)' },
                { pattern: [200, 100, 200, 100, 200], direction: 'neutral', distance: 0, name: '–¶–µ–ª—å!' }
            ];
            
            let delay = 0;
            testSequence.forEach((test, index) => {
                setTimeout(() => {
                    playSoundPattern(test.pattern, test.direction, test.distance);
                    showStatus(`üîä ${test.name}`, 'info');
                }, delay);
                delay += 3000; // 3 —Å–µ–∫—É–Ω–¥—ã –º–µ–∂–¥—É —Å–∏–≥–Ω–∞–ª–∞–º–∏
            });
            
            showStatus('üéµ –ó–∞–ø—É—â–µ–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏', 'info');
        };
        
        function showStatus(message, type) {
            const status = document.getElementById('status');
            status.textContent = message;
            status.className = `status ${type}`;
            
            setTimeout(() => {
                status.textContent = '';
                status.className = 'status';
            }, 3000);
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            const isOn = isAudioOn();
            const btn = document.getElementById('toggleBtn');
            btn.textContent = isOn ? 'üîá –û—Ç–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫' : 'üîä –í–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫';
            showStatus('üîä –¢–µ—Å—Ç –∑–≤—É–∫–æ–≤–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é', 'info');
        });
    </script>
</body>
</html>
